# Strategy (Padr√£o de Projeto Comportamental)

## Introdu√ß√£o

Este documento detalha a implementa√ß√£o do padr√£o de projeto *Strategy* no contexto do aplicativo "EuMeAmo". O objetivo principal da ado√ß√£o deste padr√£o foi proporcionar flexibilidade na defini√ß√£o e sele√ß√£o de diferentes algoritmos (estrat√©gias) para a montagem de treinos personalizados para os usu√°rios, como treinos focados em hipertrofia, emagrecimento ou manuten√ß√£o. A implementa√ß√£o visa desacoplar a l√≥gica de montagem de treino da classe principal `Treino`, permitindo que novas estrat√©gias sejam adicionadas ou modificadas sem impactar o c√≥digo existente, seguindo os princ√≠pios de design SOLID, especialmente o Princ√≠pio Aberto/Fechado.

## Metodologia

O padr√£o *Strategy* √© um padr√£o de projeto comportamental que permite definir uma fam√≠lia de algoritmos, encapsular cada um deles e torn√°-los intercambi√°veis. O *Strategy* permite que o algoritmo varie independentemente dos clientes que o utilizam (GAMMA et al., 2000). Essencialmente, ele transforma um conjunto de comportamentos em objetos (estrat√©gias) e utiliza delega√ß√£o para decidir qual comportamento usar em tempo de execu√ß√£o.

No projeto "EuMeAmo", a metodologia adotada para implementar o padr√£o *Strategy* envolveu os seguintes passos:

1.  **Defini√ß√£o da Interface da Estrat√©gia:** Foi criada uma classe abstrata `EstrategiaMontarTreino` que define o m√©todo comum `montarTreino`, o qual deve ser implementado por todas as estrat√©gias concretas. Esta interface estabelece o contrato que todas as estrat√©gias de montagem de treino devem seguir.
2.  **Implementa√ß√£o das Estrat√©gias Concretas:** Foram desenvolvidas classes concretas que implementam a interface `EstrategiaMontarTreino` para diferentes objetivos de treino: `EstrategiaTreinoHipertrofia`, `EstrategiaTreinoEmagrecimento` e `EstrategiaTreinoManutencao`. Cada classe encapsula a l√≥gica espec√≠fica para gerar uma lista de exerc√≠cios (`Conteudo`) adequada ao seu objetivo.
3.  **Adapta√ß√£o da Classe Contexto:** A classe `Treino` (ou uma classe auxiliar/f√°brica, devido √† imutabilidade do modelo `Treino` original) atua como o contexto. Em vez de conter a l√≥gica de montagem diretamente, ela recebe ou utiliza um objeto de estrat√©gia. A implementa√ß√£o foi adaptada para retornar uma nova inst√¢ncia de `Treino` configurada pela estrat√©gia selecionada, respeitando a estrutura imut√°vel do modelo existente no projeto.
4.  **Utiliza√ß√£o pelo Cliente:** O cliente (por exemplo, uma tela ou controller respons√°vel pela cria√ß√£o de treinos) seleciona a estrat√©gia desejada e a utiliza para obter um objeto `Treino` configurado.

Esta abordagem permite que o sistema selecione dinamicamente o algoritmo de montagem de treino apropriado com base nas necessidades ou prefer√™ncias do usu√°rio, promovendo maior flexibilidade e manutenibilidade do c√≥digo (REFACTORING GURU, 2025).

## Tabela de Participa√ß√£o na Produ√ß√£o do Artefato

<center>

| <center>Nome do<br>Integrante | <center>Artefato | <center>Descri√ß√£o da<br>Contribui√ß√£o | <center>An√°lise Cr√≠tica* | <center>Link Comprobat√≥rio |
|------------|----------|------------|------------|---------|
|  [Carlos Henrique](https://github.com/carlinn1)| Documenta√ß√£o do Padr√£o Strategy | Participei da defini√ß√£o da interface `EstrategiaMontarTreino` e da implementa√ß√£o da estrat√©gia concreta `EstrategiaTreinoHipertrofia`. Colaborei na adapta√ß√£o do padr√£o para o modelo `Treino` imut√°vel existente e na documenta√ß√£o inicial da metodologia. | Acredito que a ado√ß√£o do padr√£o Strategy foi crucial para a flexibilidade futura do m√≥dulo de treinos. A separa√ß√£o clara das responsabilidades facilita a adi√ß√£o de novas modalidades de treino. Uma an√°lise futura poderia explorar a combina√ß√£o de estrat√©gias ou estrat√©gias mais complexas baseadas em dados do usu√°rio. | [Grava√ß√£o Reuni√£o 15/05]() |
|  [Pablo Serra Carvalho](https://github.com/Pabloserrapxx)| Documenta√ß√£o do Padr√£o Strategy | Fui respons√°vel pela implementa√ß√£o das estrat√©gias concretas `EstrategiaTreinoEmagrecimento` e `EstrategiaTreinoManutencao`. Contribu√≠ na cria√ß√£o do exemplo de uso (`exemplo_strategy_treino.dart`) e na revis√£o do c√≥digo das outras estrat√©gias. | O padr√£o Strategy simplificou a l√≥gica de cria√ß√£o de treinos. Acredito que a clareza do c√≥digo melhorou significativamente. Talvez pud√©ssemos ter explorado o uso de uma f√°brica (Factory) em conjunto com o Strategy para gerenciar a cria√ß√£o das inst√¢ncias de treino de forma mais centralizada. | [Commit Integra√ß√£o Strategy]() |
|  [Rodrigo Fonseca](https://github.com/rodfon3301)| Documenta√ß√£o do Padr√£o Strategy | Participei da an√°lise inicial da necessidade do padr√£o, da revis√£o da implementa√ß√£o geral e fui o principal respons√°vel pela elabora√ß√£o desta documenta√ß√£o final, compilando as informa√ß√µes, formatando as refer√™ncias e preenchendo a tabela de participa√ß√£o. | A documenta√ß√£o deste padr√£o √© essencial para garantir que futuros desenvolvedores compreendam a arquitetura e possam estend√™-la corretamente. Acredito que a rastreabilidade com outros artefatos fortalece o entendimento do contexto. Poder√≠amos adicionar testes unit√°rios para cada estrat√©gia como um pr√≥ximo passo. | [Ata Reuni√£o 29/05]() |


*__Observa√ß√£o sobre a An√°lise Cr√≠tica:__ Vale lembrar que an√°lise cr√≠tica conta como participa√ß√£o no **Foco** e enriquece o projeto.*

*__Link Comprobat√≥rio:__ Serve grava√ß√£o da produ√ß√£o do artefato e link para a ata da reuni√£o em que voc√™ esteve presente*

**IMPORTANTE!!!!**

**O integrante que **n√£o** registar sua participa√ß√£o n√£o ter√° sua participa√ß√£o passada para a professora, recebendo **ZERO** no foco em quest√£o. Vale lembrar que para a **nota MM √© necess√°rio uma participa√ß√£o m√≠nima nos TR√äS FOCOS.**

</center>


## Resultados

A implementa√ß√£o resultou nos seguintes artefatos de c√≥digo, que definem e demonstram o uso do padr√£o *Strategy* adaptado ao projeto "EuMeAmo":

### Diagrama de Implementa√ß√£o
![Diagrama de Implementa√ß√£o](../assets/Strategy.png)

**1. Interface e Estrat√©gias Concretas (`estrategia_treino_corrigido.dart`):**

```dart
// models/estrategia_treino_corrigido.dart
import 
'../models/conteudo_models.dart
';
import 
'../models/treino_models.dart
';

// Interface da Estrat√©gia
abstract class EstrategiaMontarTreino {
  // M√©todo retorna uma lista de Conteudo (Exerc√≠cios) para um tipo de treino
  List<Conteudo> montarExercicios();

  // M√©todo auxiliar para criar uma inst√¢ncia de Treino com os exerc√≠cios gerados
  // e os dados base necess√°rios.
  Treino criarTreino(
      {required String id, // ID √∫nico para o treino
      required String tipo, // Tipo de treino (Hipertrofia, Emagrecimento, etc.)
      required String tempoExecucaoEstimado,
      required String frequenciaSemanal,
      required String alunoId}) {
    List<Conteudo> exercicios = montarExercicios();
    return Treino(
      id: id,
      tipo: tipo,
      tempoExecucaoEstimado: tempoExecucaoEstimado,
      frequenciaSemanal: frequenciaSemanal,
      exercicios: exercicios, // Usa a lista gerada pela estrat√©gia
      alunoId: alunoId,
    );
  }
}

// Estrat√©gia Concreta: Hipertrofia
class EstrategiaTreinoHipertrofia implements EstrategiaMontarTreino {
  @override
  List<Conteudo> montarExercicios() {
    print(
'‚úÖ Montando exerc√≠cios para Hipertrofia...
');
    return [
      Conteudo(
        id: 
'ex001
',
        titulo: 
'Supino Reto
',
        descricao: 
'4 s√©ries de 8 repeti√ß√µes
',
        tipo: 
'exercicio
',
        urlConteudo: 
''
, // Opcional: URL de v√≠deo/imagem
        tags: [
'peito
', 
'triceps
', 
'forca
'],
      ),
      Conteudo(
        id: 
'ex002
',
        titulo: 
'Agachamento Livre
',
        descricao: 
'4 s√©ries de 8 repeti√ß√µes
',
        tipo: 
'exercicio
',
        urlConteudo: 
''
,
        tags: [
'pernas
', 
'gluteos
', 
'forca
'],
      ),
      // Adicionar mais exerc√≠cios de hipertrofia
    ];
  }

  @override
  Treino criarTreino(
      {required String id,
      required String tempoExecucaoEstimado,
      required String frequenciaSemanal,
      required String alunoId}) {
    return EstrategiaMontarTreino.super.criarTreino(
        id: id,
        tipo: 
'Hipertrofia
', // Define o tipo espec√≠fico
        tempoExecucaoEstimado: tempoExecucaoEstimado,
        frequenciaSemanal: frequenciaSemanal,
        alunoId: alunoId);
  }
}

// Estrat√©gia Concreta: Emagrecimento
class EstrategiaTreinoEmagrecimento implements EstrategiaMontarTreino {
  @override
  List<Conteudo> montarExercicios() {
    print(
'üî• Montando exerc√≠cios para Emagrecimento...
');
    return [
      Conteudo(
        id: 
'ex003
',
        titulo: 
'Burpee
',
        descricao: 
'3 s√©ries de 15 repeti√ß√µes
',
        tipo: 
'exercicio
',
        urlConteudo: 
''
,
        tags: [
'cardio
', 
'corpo-inteiro
', 
'emagrecimento
'],
      ),
      Conteudo(
        id: 
'ex004
',
        titulo: 
'Corrida Esteira
',
        descricao: 
'20 minutos em ritmo moderado
',
        tipo: 
'exercicio
',
        urlConteudo: 
''
,
        tags: [
'cardio
', 
'pernas
', 
'emagrecimento
'],
      ),
      // Adicionar mais exerc√≠cios de emagrecimento
    ];
  }

   @override
  Treino criarTreino(
      {required String id,
      required String tempoExecucaoEstimado,
      required String frequenciaSemanal,
      required String alunoId}) {
    return EstrategiaMontarTreino.super.criarTreino(
        id: id,
        tipo: 
'Emagrecimento
', // Define o tipo espec√≠fico
        tempoExecucaoEstimado: tempoExecucaoEstimado,
        frequenciaSemanal: frequenciaSemanal,
        alunoId: alunoId);
  }
}

// Estrat√©gia Concreta: Manuten√ß√£o
class EstrategiaTreinoManutencao implements EstrategiaMontarTreino {
  @override
  List<Conteudo> montarExercicios() {
    print(
'üîÑ Montando exerc√≠cios para Manuten√ß√£o...
');
    return [
      Conteudo(
        id: 
'ex005
',
        titulo: 
'Flex√£o de Bra√ßo
',
        descricao: 
'3 s√©ries de 12 repeti√ß√µes
',
        tipo: 
'exercicio
',
        urlConteudo: 
''
,
        tags: [
'peito
', 
'triceps
', 
'ombros
', 
'manutencao
'],
      ),
      Conteudo(
        id: 
'ex006
',
        titulo: 
'Abdominal Supra
',
        descricao: 
'3 s√©ries de 15 repeti√ß√µes
',
        tipo: 
'exercicio
',
        urlConteudo: 
''
,
        tags: [
'abdomen
', 
'core
', 
'manutencao
'],
      ),
      // Adicionar mais exerc√≠cios de manuten√ß√£o
    ];
  }

   @override
  Treino criarTreino(
      {required String id,
      required String tempoExecucaoEstimado,
      required String frequenciaSemanal,
      required String alunoId}) {
    return EstrategiaMontarTreino.super.criarTreino(
        id: id,
        tipo: 
'Manuten√ß√£o
', // Define o tipo espec√≠fico
        tempoExecucaoEstimado: tempoExecucaoEstimado,
        frequenciaSemanal: frequenciaSemanal,
        alunoId: alunoId);
  }
}

```

**2. Exemplo de Uso (`exemplo_strategy_treino.dart`):**

```dart
// exemplos/exemplo_strategy_treino_corrigido.dart
import 
'../models/estrategia_treino_corrigido.dart
';
import 
'../models/treino_models.dart
';
import 
'../models/conteudo_models.dart
';

void main() {
  print(
'--- Exemplo Padr√£o Strategy para Treinos EuMeAmo ---
');

  // --- Cen√°rio 1: Criar um treino de Hipertrofia ---
  print(
'\n* Criando Treino de Hipertrofia *
');
  // Seleciona a estrat√©gia
  final EstrategiaMontarTreino estrategiaHipertrofia = EstrategiaTreinoHipertrofia();

  // Cria o treino usando a estrat√©gia (fornecendo dados mockados obrigat√≥rios)
  final Treino treinoHipertrofia = estrategiaHipertrofia.criarTreino(
    id: 
'treino_h001
',
    tempoExecucaoEstimado: 
'60 min
',
    frequenciaSemanal: 
'3x
',
    alunoId: 
'aluno123
',
  );

  // Exibe os detalhes do treino criado
  print(
'\nüìã Detalhes do Treino de Hipertrofia:
');
  print(
'  ID: ${treinoHipertrofia.id}
');
  print(
'  Tipo: ${treinoHipertrofia.tipo}
');
  print(
'  Exerc√≠cios:
');
  for (var ex in treinoHipertrofia.exercicios) {
    print(
'    - ${ex.titulo} (${ex.descricao})
');
  }

  // --- Cen√°rio 2: Criar um treino de Emagrecimento ---
  print(
'\n* Criando Treino de Emagrecimento *
');
  final EstrategiaMontarTreino estrategiaEmagrecimento = EstrategiaTreinoEmagrecimento();
  final Treino treinoEmagrecimento = estrategiaEmagrecimento.criarTreino(
    id: 
'treino_e001
',
    tempoExecucaoEstimado: 
'45 min
',
    frequenciaSemanal: 
'4x
',
    alunoId: 
'aluno456
',
  );

  print(
'\nüìã Detalhes do Treino de Emagrecimento:
');
  print(
'  ID: ${treinoEmagrecimento.id}
');
  print(
'  Tipo: ${treinoEmagrecimento.tipo}
');
  print(
'  Exerc√≠cios:
');
  treinoEmagrecimento.exercicios.forEach((ex) => print(
'    - ${ex.titulo} (${ex.descricao})
'));

  // --- Cen√°rio 3: Criar um treino de Manuten√ß√£o ---
  print(
'\n* Criando Treino de Manuten√ß√£o *
');
  final EstrategiaMontarTreino estrategiaManutencao = EstrategiaTreinoManutencao();
  final Treino treinoManutencao = estrategiaManutencao.criarTreino(
    id: 
'treino_m001
',
    tempoExecucaoEstimado: 
'50 min
',
    frequenciaSemanal: 
'3x
',
    alunoId: 
'aluno789
',
  );

  print(
'\nüìã Detalhes do Treino de Manuten√ß√£o:
');
  print(
'  ID: ${treinoManutencao.id}
');
  print(
'  Tipo: ${treinoManutencao.tipo}
');
  print(
'  Exerc√≠cios:
');
  treinoManutencao.exercicios.forEach((ex) => print(
'    - ${ex.titulo} (${ex.descricao})
'));

  print(
'\n--- Fim do Exemplo ---
');
}

```

## Grava√ß√£o da Produ√ß√£o do Artefato

A grava√ß√£o da reuni√£o de implementa√ß√£o do padr√£o Strategy est√° dispon√≠vel em [Clique Aqui!](https://www.youtube.com/watch?v=kjwpgtzUJJ8).

## Grava√ß√£o da Explica√ß√£o do Artefato.

A grava√ß√£o da reuni√£o de implementa√ß√£o do padr√£o Strategy est√° dispon√≠vel em [Clique Aqui!]().

## Grava√ß√£o do Prototipo (Mobile - Flutter)

A grava√ß√£o da reuni√£o de implementa√ß√£o do padr√£o Strategy est√° dispon√≠vel em [Clique Aqui!](https://www.youtube.com/watch?v=hJfetkC3KLg).

## Grava√ß√£o do Prototipo (Desktop) Codigos Rodando

Todos os codigos ser√£o rodados e mostrados nessa grava√ß√£o!

A grava√ß√£o da reuni√£o de implementa√ß√£o do padr√£o Strategy est√° dispon√≠vel em [Clique Aqui!]().


## Rastreabilidade

A implementa√ß√£o do padr√£o *Strategy* se conecta e utiliza informa√ß√µes de outros artefatos do projeto:

-   [Diagrama de Classes](https://unbarqdsw2025-1-turma01.github.io/2025.1-T01-_G3_EuMeAmo_Entrega_02/#/Modelagem/2.1.1.DiagramaDeClasses): A implementa√ß√£o interage com as classes `Treino` e `Conteudo` definidas no diagrama.
-   [Rich Picture](https://unbarqdsw2025-1-turma01.github.io/2025.1-T01-_G3_EuMeAmo_Entrega_01/#/Base/1.2.2.RichPicture): O padr√£o contribui para a vis√£o geral do sistema, especificamente na funcionalidade de personaliza√ß√£o de treinos.
-   [Requisitos Funcionais](https://unbarqdsw2025-1-turma01.github.io/2025.1-T01-_G3_EuMeAmo_Entrega_01/#/Base/1.5.6.Tabela-Requisitos): Atende aos requisitos relacionados √† cria√ß√£o e diversifica√ß√£o de rotinas de treino (ex: RF005 - Gerenciar Treinos, RF006 - Visualizar Ficha de Treino, se aplic√°vel).

## Refer√™ncias Bibliogr√°ficas

1.  GAMMA, E. et al. **Padr√µes de Projeto: Solu√ß√µes Reutiliz√°veis de Software Orientado a Objetos**. Porto Alegre: Bookman, 2000.

2.  REFACTORING GURU. **Strategy Pattern**. Refactoring.Guru. Dispon√≠vel em: https://refactoring.guru/pt-br/design-patterns/strategy. Acesso em: 28 maio 2025.

3.  SERRANO, Milene. **Material de Aula - Padr√µes de Projeto**. Disciplina de Arquitetura e Desenho de Software. Universidade de Bras√≠lia (UnB). Plataforma Aprender 3. Acesso em: 30 maio 2025.

## Hist√≥rico de vers√µes

| Vers√£o | Data | Descri√ß√£o | Autor | Revisor |
|--------|------|-----------|-------|---------|
| 1.0  | 30/05/2025 | Cria√ß√£o do documento inicial detalhando a implementa√ß√£o do padr√£o Strategy. | [Carlos Henrique](https://github.com/carlinn1), [Pablo Serra Carvalho](https://github.com/Pabloserrapxx) |  [Pablo Serra Carvalho](https://github.com/Pabloserrapxx) |

